<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Piss Latin</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      padding: 30px;
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-top: 10px;
      font-size: 16px;
    }
    input {
      margin-top: 10px;
      width: 60px;
    }
    button {
      margin-top: 15px;
      margin-right: 10px;
      padding: 10px 15px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Piss Latin</h1>

<label>Shift Value:</label>
<input type="number" id="shift" value="3">

<textarea id="inputText" placeholder="Enter text here..."></textarea>

<br>

<button onclick="encode()">Encode</button>
<button onclick="decode()">Decode</button>

<textarea id="outputText" placeholder="Output..."></textarea>

<script>
  function caesarShift(text, shift) {
    return text.split("").map(char => {
      if (/[a-z]/i.test(char)) {
        const code = char.charCodeAt(0);
        const base = code >= 65 && code <= 90 ? 65 : 97;
        return String.fromCharCode(((code - base + shift + 26) % 26) + base);
      }
      return char;
    }).join("");
  }

  function toCustomLatin(word) {
    if (word.length < 2) return word;
    return word.slice(1) + word[0] + "ay";
  }

  function fromCustomLatin(word) {
    if (!word.endsWith("ay") || word.length < 4) return word;
    const core = word.slice(0, -2);
    return core.slice(-1) + core.slice(0, -1);
  }

  function encode() {
    const shift = parseInt(document.getElementById("shift").value);
    let text = document.getElementById("inputText").value;

    text = caesarShift(text, shift);
    text = text.split(" ").map(toCustomLatin).join(" ");

    document.getElementById("outputText").value = text;
  }

  function decode() {
    const shift = parseInt(document.getElementById("shift").value);
    let text = document.getElementById("inputText").value;

    text = text.split(" ").map(fromCustomLatin).join(" ");
    text = caesarShift(text, -shift);

    document.getElementById("outputText").value = text;
  }
</script>

</body>
</html>
