<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Caesar + Pig Latin Translator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      padding: 30px;
    }
    h1 {
      margin-bottom: 10px;
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-top: 10px;
      font-size: 16px;
    }
    input {
      margin-top: 10px;
      width: 60px;
    }
    button {
      margin-top: 15px;
      margin-right: 10px;
      padding: 10px 15px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Caesar Cipher + Pig Latin</h1>

<label>Shift Value:</label>
<input type="number" id="shift" value="3">

<textarea id="inputText" placeholder="Enter text here..."></textarea>

<br>

<button onclick="encode()">Encode</button>
<button onclick="decode()">Decode</button>

<textarea id="outputText" placeholder="Output..."></textarea>

<script>
  function caesarShift(text, shift) {
    return text.split("").map(char => {
      if (char.match(/[a-z]/i)) {
        const code = char.charCodeAt(0);
        const base = code >= 65 && code <= 90 ? 65 : 97;
        return String.fromCharCode(((code - base + shift + 26) % 26) + base);
      }
      return char;
    }).join("");
  }

  function toPigLatin(word) {
    const vowels = /^[aeiou]/i;
    if (vowels.test(word)) {
      return word + "way";
    }
    const match = word.match(/^([^aeiou]+)(.*)/i);
    return match ? match[2] + match[1] + "ay" : word;
  }

  function fromPigLatin(word) {
    if (word.endsWith("way")) {
      return word.slice(0, -3);
    }
    if (word.endsWith("ay")) {
      const core = word.slice(0, -2);
      const match = core.match(/(.*)([^aeiou]+)$/i);
      return match ? match[2] + match[1] : word;
    }
    return word;
  }

  function encode() {
    const shift = parseInt(document.getElementById("shift").value);
    let text = document.getElementById("inputText").value;

    text = caesarShift(text, shift);
    text = text.split(" ").map(toPigLatin).join(" ");

    document.getElementById("outputText").value = text;
  }

  function decode() {
    const shift = parseInt(document.getElementById("shift").value);
    let text = document.getElementById("inputText").value;

    text = text.split(" ").map(fromPigLatin).join(" ");
    text = caesarShift(text, -shift);

    document.getElementById("outputText").value = text;
  }
</script>

</body>
</html>
